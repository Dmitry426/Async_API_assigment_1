  services:
    async_server_test:
      image: async_server
      build: ../async_service
      command: uvicorn main:app --host 0.0.0.0 --port 8000
      env_file:
        - ./.env
      healthcheck:
        test: curl -s http://localhost:8000 >/dev/null || exit 1
        interval: 30s
        timeout: 10s
        retries: 50
      ports:
        - '8000:8000'

